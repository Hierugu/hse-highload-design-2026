# Проектирование форума Reddit - РПЗ
> Курс "Проектирование высоконагруженных систем", НИУ ВШЭ, 2026

## 1. Аудитория и функционал Reddit
Массовая платформа сообществ по интересам, куда пользователи приходят за контентом и обсуждениями в тематических сообществах, а не за “друзьями”.

<p align="center">
  <img src="https://github.com/Hierugu/hse-highload-design-2026/blob/main/img/2.webp" alt="Интерфейс reddit" />
</p>

### 1.1 Основной функционал
- Аккаунты, настройки, сессии
- Создание сообществ, правил, подписки
- Создание, редактирование, удаление постов
- Комментарии и их сортировка
- Голосования и рейтинг пользователя
- Ленты (система рекоммендаций)
- Модерация (репорты, бан, мьют, удаление, автомодерация)
- Поиск (по постам, комментам, сообществам)
- Уведомления (ответы, упоминания, события)
- Системы антиспама
- Система монетизации

### 1.2 Функционал на MVP
1) Пользователи: Регистрация, авторизация, поддержка сессий
2) Сообщества: создать сообщество, страница сообщества, подписка/отписка
3) Посты: создать текстовый пост, список постов сообщества, страница поста
4) Комментарии: добавить комментарий, дерево комментариев (1–2 уровня или дерево)
5) Голосование: upvote/downvote для постов и комментариев
6) Ленты: сообщества и персональная (без или с очень простой системой рекоммендаций)
7) Модерация: удалить пост/коммент, отправить репорт 
8) Базовый поиск

### 1.3 Нагрузка

#### Пользователи
В документах к IPO Reddit указывал **~73.1 млн DAUq** и **~267.5 млн WAUq** за Q4 2023. [1]

Согласно инфомрации с ресурса similarweb.com [2] топ-4 стран по числу пользователей занимают:
1. США (110.8 млн. пользователей/месяц)
2. Индия (24 млн. пользователей/месяц)
3. Великобритания (18 млн. пользователей/месяц)
4. Канада (11.9 млн. пользователей/месяц)


<p align="center">
  <img src="https://github.com/Hierugu/hse-highload-design-2026/blob/main/img/1.png" alt="Распределение по странам" />
</p>

#### Сервера
Зная DAU оценим трафик и число серверов:
- DAU ~= 70 млн
- Допустим 50 запросов/пользователь/день → 3.5 млрд запросов/день
- Средний RPS = 3.5e9 / 86400 ≈ 40k RPS
- Возьмем пиковый коэффициент = x4 → 160k RPS peak

Если один сервер держит условно ~1000 RPS, то нужно порядка: 160k / 1000 = **160 серверов**

### Источники
1. [Reddit, Form S‑1 (2024)](https://www.sec.gov/Archives/edgar/data/1713445/000162828024006294/reddits-1q423.htm) (раздел “Prospectus Summary / Key Metrics”)
2. [similarweb.com](https://pro.similarweb.com/?action=website_performance&domain=reddit.com#/digitalsuite/websiteanalysis/website-audience/*/999/3m?webSource=Total&key=reddit.com&selectedTab=geography) (раздел "Audience. Traffic share by country")

## 2. Расчет нагрузки

> TODO
