## Аудитория и функционал Reddit
Массовая платформа сообществ по интересам, куда пользователи приходят за контентом и обсуждениями в тематических сообществах, а не за “друзьями”.

### 1. Основной функционал
- Аккаунты/профили, настройки, сессии
- Сообщества (subreddits): создание, правила, подписка
- Посты (разные типы: текст/ссылка/медиа), редактирование, удаление
- Комментарии (вложенные деревья), сортировки
- Голосование (upvote/downvote) и рейтинг
- Ленты: Home, Popular, All, лента конкретного сообщества
- Ранжирование (hot/top/new и т.п.)
- Модерация: репорты, бан/мьют, удаление, фильтры, автомодерация
- Поиск (по постам/комментам/сообществам)
- Уведомления (ответы, упоминания, мод‑события)
- Антиспам/рейтконтроль, борьба с ботами
- Реклама/монетизация

## 2. Функционал на MVP
1) **Регистрация/логин**, сессии (JWT/refresh или cookie session)
2) **Сообщества**: создать сообщество, страница сообщества, подписка/отписка
3) **Посты**: создать текстовый пост, список постов сообщества, страница поста
4) **Комментарии**: добавить комментарий, дерево комментариев (1–2 уровня или дерево)
5) **Голосование**: upvote/downvote для постов и комментариев + подсчёт score
6) **Ленты**:
   - лента сообщества (по new/hot)
   - персональная Home (на основе подписок, можно начать с “new”)
7) **Простая модерация**: удалить пост/коммент (модератор), репорт (как запись в БД)
8) **Базовый поиск** (опционально)

## 3. Нагрузка

### Пользователи
В документах к IPO (Form S‑1, 2024) Reddit указывал **~73.1 млн DAUq** (Daily Active Uniques, квартальная метрика) и **~267.5 млн WAUq** (Weekly Active Uniques) за Q4 2023.  
Источник: [**Reddit, Form S‑1 (2024)**](https://www.sec.gov/Archives/edgar/data/1713445/000162828024006294/reddits-1q423.htm) (раздел “Prospectus Summary / Key Metrics”)

### Сервера
Зная DAU оценим трафик и получим минимально необходимое число инстансов.

- DAU = 70 млн
- Среднее: 50 запросов/пользователь/день (лента, комментарии, пост, голосования) → 3.5 млрд запросов/день
- Средний RPS: 3.5e9 / 86400 ≈ **40k RPS**
- Пиковый коэффициент: x4 → **160k RPS peak**
Если один stateless app/web сервер держит условно **~1000 RPS** (с кешом, без тяжёлых операций), то только на web/app слой нужно порядка:
- 160k / 1000 = **160 серверов**

Отдельно обычно идут кластера:
- кеш (Redis) (несколько–десятки узлов),
- БД (primary + replicas, шарды),
- поиск (OpenSearch/ES),
- очереди (Kafka/Rabbit),
- фоновые воркеры,
- сервисы модерации/антиспама/уведомлений,
